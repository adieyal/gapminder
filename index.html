<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>Income and Population Growth</title>
<style>

@import url(style.css);


</style>

<h1>Country income and population growth</h1>

<p id="chart">

</p>

<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<!--<script src="d3.min.js" charset="utf-8"></script>-->
<script src="incomedata.js" charset="utf-8"></script>
<script src="circles.js" charset="utf-8"></script>

<script>
load_data("income.csv", {
    x_key: "Income level",
    y_key: "Median age",
    radius_key: "Population", 
    years: {
        start_year : 2020,
        end_year : 2050
    },
    country_key: "Country",
    indicator_key: "Country stats",
    x_axis_label: "INCOME",
    y_axis_label: "MEDIAN AGE",
    min_y : 15,
    width: 1280,
    height: 506,
    drawing_callback : function(container, gapminder) {
        var chart = container.select("g")
        chart
            .append("line")
            .attr("x1", gapminder.scales.x(1000))
            .attr("x2", gapminder.scales.x(1000))
            .attr("y1", gapminder.scales.y(15))
            .attr("y2", gapminder.scales.y(50))
            .style("stroke", "#F6C343")
            .style("stroke-width", "5px")
        chart
            .append("text")
            .text("Level 4")
            .style("fill", "#F6C343")
            .style("font-size", "2em")
            .attr("transform", "translate(" + gapminder.scales.x(1020) + ",10)")
        chart
            .append("text")
            .text("middle income status")
            .style("fill", "black")
            .style("font-size", "1.1em")
            .attr("transform", "translate(" + gapminder.scales.x(1020) + ",35)")
    }

});
</script>
